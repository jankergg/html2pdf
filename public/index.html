<!--
* @Author: Jianqiang Zhang
* @Date:   2020-01-08 18:52:54
* @Last Modified by:   janko
* @Last Modified time: 2019-08-07 11:37:28
*-->
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta id="viewport" content="width=device-width, initial-scale=1" />
		<meta id="threme-color" content="#000000" />
		<title>Cover Letter</title>
		<link rel="stylesheet" href="./assets/style/main.css" />
	</head>
	<body>
		<div class="container">
			<div class="letter_preview"><iframe id="frm" src="template/boilerplate.html" frameborder="0"></iframe></div>
			<div class="letter_config">
				<div class="form_options">
					<h2>Options</h2>
					<ul id="options">
						<li><label for="jobsource">Job Source</label><input type="text" id="jobsource" placeholder="Indeed" /></li>
						<li><label for="name">Name</label><input type="text" id="name" /></li>
						<li><label for="address">Address</label><input type="text" id="address" /></li>
						<li><label for="email">Email</label><input type="text" id="email" /></li>
						<li><label for="phone">Phone</label><input type="text" id="phone" /></li>
						<li><label for="title">Title</label><input type="text" id="title" /></li>
						<li><label for="summary">Summary</label><textarea type="text" id="summary"></textarea></li>
						<li>
							<label for="receiver">To</label><input type="text" id="receiver" placeholder="Dear Hiring Manager" />
						</li>
						<li><label for="p1">Paragraph</label><textarea type="text" id="p1"></textarea></li>
						<li id="addnew"><label>&nbsp;</label><button class="btn add" onclick="addP()">Add A New Paragraph</button></li>
						<li><button class="btn download">Download PDF</button></li>
					</ul>
				</div>
			</div>
		</div>
		<script language="javascript">
			function $(id) {
				return document.getElementById(id);
			}
			const frm = $('frm');
			const jobsource = $('jobsource');
			const name = $('name');
			const address = $('address');
			const email = $('email');
			const phone = $('phone');
			const title = $('title');
			const summary = $('summary');
			const receiver = $('receiver');
			const base = $('addnew');
			let current = 1;
			let form = {}
			function addP() {
				let li = document.createElement('li');
				let label = document.createElement('label');
				let input = document.createElement('textarea');
				current++;
				let newID = 'p' + (current);
				label.for = newID;
				label.innerText = 'Paragraph';
				li.appendChild(label);
				input.id = newID;
				li.appendChild(input);
				base.parentElement.insertBefore(li, base)
			}
			function update(){
				form.jobsource = jobsource.value
				form.name = name.value
				form.address = address.value;
				form.email = email.value;
				form.phone = phone.value;
				form.title = title.value;
				form.summary = summary.value;
				form.receiver = receiver.value;
				form.p =[];
				for(var i=0;i<current;i++){
					form.p[i] = $('p'+i).value;
				}
			}
			function bindUpdate(){
				$('options').addEventListener('keyup', function(e){
				}, false)
			}
			function pushData(data){

			}
		</script>
	</body>
</html>
